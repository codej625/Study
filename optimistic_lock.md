# 낙관적 락에 대해 알아보자.

<br /><br />

1. 낙관적 락(Optimistic Locking)
```
동시에 여러 사용자가 데이터를 수정할 때 발생할 수 있는 충돌을 방지하기 위한 방법 중 하나이다.
이 방법은 데이터를 읽을 때는 잠금을 걸지 않고, 데이터를 변경할 때 충돌이 발생하지 않았는지를 확인한다.
```

<br /><br /><br />

2. 낙관적 락의 작동 방식
```
데이터를 읽을 때 -> 사용자는 데이터를 읽어올 때에는 어떠한 잠금도 걸지 않고, 단순히 데이터를 읽어온다.
이때 다른 사용자가 동시에 같은 데이터를 수정할 수 있다.

데이터를 변경할 때 -> 데이터를 변경하기 전에, 해당 데이터의 버전 또는 변경사항을 체크한다.
이 체크를 통해 데이터를 읽어온 이후에 다른 사용자가 해당 데이터를 수정했는지 여부를 확인할 수 있다.

충돌 검사 -> 데이터를 변경하기 전에 현재 데이터의 상태를 확인한다.
이 상태를 통해 다른 사용자가 데이터를 수정했는지 여부를 판단하고, 충돌이 발생할 경우에 대한 처리를 진행한다.

변경 적용 -> 충돌이 발생하지 않는다면, 사용자가 수정한 내용을 데이터베이스에 반영한다.
충돌이 발생한 경우에는 적절한 처리 방법을 선택하여 사용자에게 알려준다.
```

<br />

```
낙관적 락은 데이터를 수정하는 경우에만 충돌이 발생하는 비교적 드문 상황에서 효과적이다.
충돌이 발생하는 빈도가 낮을수록 이 방법은 성능 면에서 우수하며, 일관성을 유지하면서 동시성을 높일 수 있다.
```

<br /><br /><br />

3. Update가 아닌 Insert 상황에서도 Rocking이 필요할까?
```
Insert 작업은 일반적으로 시퀀스나 자동 증가하는 기본 키 등을 사용하여 각 레코드마다 고유한 값이 할당되므로,
동시에 여러 Insert가 발생하더라도 각각의 작업은 다른 레코드에 대한 작업을 수행하게 된다.

따라서 Insert 작업에서는 일반적으로 낙관적 락 대신에 데이터베이스 시스템이 제공하는 기본적인 동시성 제어 메커니즘을 사용하게 된다.
이는 대부분의 데이터베이스 시스템이 내부적으로 관리하는 부분이며, 사용자가 별도로 제어할 필요가 없다.
```
